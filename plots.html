<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Rik Huijzer" />
  <meta name="author" content="and contributors" />
  <title>Plots - Books.jl</title>
  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
  <link rel="stylesheet" href="/style.css"/>
    <script src="/mousetrap.min.js"></script>
    <style>
  @font-face {
    font-family: JuliaMono-Regular;
    src: url("/JuliaMono-Regular.woff2");
  }
  </style>
  <link rel="stylesheet" href="/files/style.css"/>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!-- Google Search Console verification. -->
<meta name="google-site-verification" content="deJcoJ2nJMQFPa1hJZULlns4yYOCQXsfcsVdafQMgdc" />
<!-- Privacy-friendly analytics via Fathom. -->
<script src="https://cdn.usefathom.com/script.js" data-site="WBQVJWZZ" defer></script>
<!-- Privacy-friendly analytics via Pirsch. -->
<script defer type="text/javascript" src="https://api.pirsch.io/pirsch.js" id="pirschjs" data-code="0bjwF9vL4Z9Chiae5YEpufSR0rx8b1tL"></script>
<link rel="stylesheet" href="/github.min.css">
<script src="/highlight.min.js"></script>
<script src="/julia.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('pre').forEach((el) => {
        hljs.highlightElement(el);
    });
});
</script>
 
</head>
<body>
<script>
function click_next() {
  var next = document.getElementById('nav-next');
  next.firstElementChild.nextElementSibling.click();
}
function click_prev() {
  var prev = document.getElementById('nav-prev');
  prev.firstElementChild.click();
}
Mousetrap.bind('right', click_next);
Mousetrap.bind('h', click_prev);
Mousetrap.bind('left', click_prev);
Mousetrap.bind('l', click_next);
</script>

<div class="books-container">
<aside class="books-menu">
<input type="checkbox" id="menu">
<label for="menu">☰</label>
<div class="books-title">
<a href="/">Books.jl</a>
</div><br />
<span class="books-subtitle">
Create books with Julia
</span>
<div class="books-menu-content">
<li><a class="menu-level-1" href="/about"><b>1</b> About</a></li>
<li><a class="menu-level-1" href="/getting-started"><b>2</b> Getting started</a></li>
<li><a class="menu-level-2" href="/metadata"><b>2.1</b> metadata.yml</a></li>
<li><a class="menu-level-2" href="/config"><b>2.2</b> config.toml</a></li>
<li><a class="menu-level-2" href="/templates"><b>2.3</b> Templates</a></li>
<li><a class="menu-level-1" href="/demo"><b>3</b> Demo</a></li>
<li><a class="menu-level-2" href="/embedding-output"><b>3.1</b> Embedding output</a></li>
<li><a class="menu-level-2" href="/labels-captions"><b>3.2</b> Labels and captions</a></li>
<li><a class="menu-level-2" href="/function_code_blocks"><b>3.3</b> Obtaining function defin..</a></li>
<li><a class="menu-level-2" href="/plots"><b>3.4</b> Plots</a></li>
<li><a class="menu-level-2" href="/other-notes"><b>3.5</b> Other notes</a></li>
<li><a class="menu-level-1" href="/references"><b></b> References</a></li>
</div>
</aside>

<div class="books-content">
<h2 data-number="3.4" id="sec:plots"><span class="header-section-number">3.4</span> Plots</h2>
<p>An AlgebraOfGraphics plot is shown below in Figure <a href="#fig:example_plot">2</a>. For Plots.jl and Makie.jl see, respectively section Section <a href="/plots#sec:jlplots">3.4.1</a> and Section <a href="/plots#sec:makie">3.4.2</a>. This is actually a bit tricky, because we want to show vector graphics (SVG) on the web, but these are not supported (well) by LaTeX. Therefore, portable network graphics (PNG) images are also created and passed to LaTeX.</p>
<pre class="language-julia"><code>function example_plot()
    I = 1:30
    df = (x=I, y=I.^2)
    xy = data(df) * mapping(:x, :y)
    fg = draw(xy)
end
example_plot()</code></pre>
<figure>
<img src="/im/M_example_plot_.svg" id="fig:example_plot" alt="Figure 2: Example plot." /><figcaption aria-hidden="true">Figure 2: Example plot.</figcaption>
</figure>
<p>If the output is a string instead of the output you expected, then check whether you load the related packages in time. For example, for this plot, you need to load AlgebraOfGraphics.jl together with Books.jl so that Requires.jl will load the code for handling AlgebraOfGraphics objects.</p>
<p>For multiple images, use <code>Options.(objects, paths)</code>:</p>
<pre class="language-julia"><code>function multiple_example_plots()
    filenames = [&quot;example_plot_$i&quot; for i in 2:3]
    I = 1:30
    df = (x=I, y=I.*2, z=I.^3)
    objects = [
        draw(data(df) * mapping(:x, :y))
        draw(data(df) * mapping(:x, :z))
    ]
    return Options.(objects, filenames)
end</code></pre>
<p>Resulting in Figure <a href="#fig:example_plot_2">3</a> and Figure <a href="#fig:example_plot_3">4</a>:</p>
<figure>
<img src="/im/example_plot_2.svg" id="fig:example_plot_2" alt="Figure 3: Example plot 2." /><figcaption aria-hidden="true">Figure 3: Example plot 2.</figcaption>
</figure>
<figure>
<img src="/im/example_plot_3.svg" id="fig:example_plot_3" alt="Figure 4: Example plot 3." /><figcaption aria-hidden="true">Figure 4: Example plot 3.</figcaption>
</figure>
<p>For changing the size, use <code>axis</code> from AlgebraOfGraphics:</p>
<pre class="language-julia"><code>function image_options_plot()
    I = 1:0.1:30
    df = (x=I, y=sin.(I))
    xy = data(df) * visual(Lines) * mapping(:x, :y)
    axis = (width = 600, height = 140)
    draw(xy; axis)
end
image_options_plot()</code></pre>
<figure>
<img src="/im/M_image_options_plot_.svg" id="fig:image_options_plot" alt="Figure 5: Image options plot." /><figcaption aria-hidden="true">Figure 5: Image options plot.</figcaption>
</figure>
<p>And, for adjusting the caption, use <code>Options</code>:</p>
<pre class="language-julia"><code>function combined_options_plot()
    fg = image_options_plot()
    Options(fg; caption=&quot;Sine function.&quot;)
end
combined_options_plot()</code></pre>
<figure>
<img src="/im/M_combined_options_plot_.svg" alt="Sine function." /><figcaption aria-hidden="true">Sine function.</figcaption>
</figure>
<p>or the caption can be specified in the Markdown file:</p>
<pre><code>```jl
p = M.image_options_plot()
Options(p; caption=&quot;Label specified in Markdown.&quot;)
```</code></pre>
<figure>
<img src="/im/p_M_image_options_plot_Options_p_caption_Label_specified_in_Markdown_.svg" alt="Label specified in Markdown." /><figcaption aria-hidden="true">Label specified in Markdown.</figcaption>
</figure>
<p><br />
</p>
<h3 data-number="3.4.1" id="sec:jlplots"><span class="header-section-number">3.4.1</span> Plots.jl</h3>
<pre class="language-julia"><code>function plotsjl()
    p = plot(1:10, 1:2:20)
    caption = &quot;An example plot with Plots.jl.&quot;
    # Label defaults to `nothing`, which will not create a cross-reference.
    label = missing
    Options(p; caption, label)
end
plotsjl()</code></pre>
<figure>
<img src="/im/M_plotsjl_.svg" alt="An example plot with Plots.jl." /><figcaption aria-hidden="true">An example plot with Plots.jl.</figcaption>
</figure>
<h3 data-number="3.4.2" id="sec:makie"><span class="header-section-number">3.4.2</span> Makie</h3>
<p>This time, we also pass <code>link_attributes</code> to Pandoc (Figure <a href="#fig:makie">6</a>):</p>
<pre class="language-julia"><code>function makiejl()
    x = range(0, 10, length=100)
    y = sin.(x)
    p = lines(x, y)
    caption = &quot;An example plot with Makie.jl.&quot;
    label = &quot;makie&quot;
    link_attributes = &quot;width=70%&quot;
    Options(p; caption, label, link_attributes)
end
makiejl()</code></pre>
<figure>
<img src="/im/M_makiejl_.svg" id="fig:makie" style="width:70.0%" alt="Figure 6: An example plot with Makie.jl." /><figcaption aria-hidden="true">Figure 6: An example plot with Makie.jl.</figcaption>
</figure>


<div class="bottom-nav">
    <p id="nav-prev" style="text-align: left;">
        <a class="menu-level-2" href="/function_code_blocks"><b>3.3</b> Obtaining function defin..</a> <kbd>←</kbd>
        <span id="nav-next" style="float: right;">
            <kbd>→</kbd> <a class="menu-level-2" href="/other-notes"><b>3.5</b> Other notes</a>
        </span>
    </p>
</div>


<div class="license">
    <br/>
  <br/>
  <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>
    Rik Huijzer, and contributors
</div>
</div>
</div>
</body>
</html>